/* Generated by CIL v. 1.3.6 */
/* print_CIL_Input is false */

int fetchsms(char *pdu , int sim ) 
{ char answer[(2 + 2 * 256) + 2] ;
  int position ;
  int beginning ;
  int end ;
  int __retres ;
  
  {answer[0] = (char )taint();
  answer[((2 + 2 * 256) + 2) - 1] = (char)0;
  position = 0;
  if (position == -1) {__retres = 0;
    goto return_label;}
  
  beginning = (position + 2) + 1;
  end = beginning;
  while (1) {if ((int )answer[end] != 0)
             {if (! ((int )answer[end] != '\r')) {break;}
             }
             else {break;}
    
    end ++;}
  
  if ((int )answer[end] == 0) {__retres = 0;
  goto return_label;}
  else {if (end - beginning < 256) {__retres = 0;
          goto return_label;}
  }
  
  end ++;
  while (1) {if ((int )answer[end] != 0)
             {if (! ((int )answer[end] != '\r')) {break;}
             }
             else {break;}
    
    end ++;}
  
  if ((int )answer[end] == 0) {__retres = 0;
  goto return_label;}
  else {if (end - beginning < 256) {__retres = 0;
          goto return_label;}
  }
  
  /* STAC: BAD */
  answer[end] = (char)0;
  /* STAC: BAD */
  r_strcpy(pdu, answer + beginning);
  __retres = sim;
  return_label: /* CIL Label */ 
  return (__retres);}

}
int main(void) 
{ char pdu[2 * 256] ;
  int sim ;
  int __retres ;
  
  {sim = 0;
  fetchsms(pdu, sim);
  __retres = 0;
  return (__retres);}

}
